"use strict";var be=Object.defineProperty,Oe=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var ie=(e,t,o)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,T=(e,t)=>{for(var o in t||(t={}))ue.call(t,o)&&ie(e,o,t[o]);if($)for(var o of $(t))fe.call(t,o)&&ie(e,o,t[o]);return e},V=(e,t)=>Oe(e,Ce(t));var de=(e,t)=>{var o={};for(var n in e)ue.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&$)for(var n of $(e))t.indexOf(n)<0&&fe.call(e,n)&&(o[n]=e[n]);return o};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var d=require("vue-demi"),p=require("@intlify/vue-router-bridge"),U=require("@intlify/vue-i18n-bridge");function Pe(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var De=Pe(p);const te={PREFIX:"prefix",PREFIX_EXCEPT_DEFAULT:"prefix_except_default",PREFIX_AND_DEFAULT:"prefix_and_default",NO_PREFIX:"no_prefix"},j="",G=te.PREFIX_EXCEPT_DEFAULT,M=!1,k="___",z="default",oe="ltr",ne="";/*!
  * shared v9.2.0-beta.35
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */const Ue=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ne=e=>Ue?Symbol(e):e,B=Object.assign,Fe=Array.isArray,we=e=>typeof e=="function",x=e=>typeof e=="string",$e=e=>typeof e=="boolean",Ve=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",Be=/\/$|\/\?/;function K(e="",t=!1){return t?Be.test(e):e.endsWith("/")}function je(e="",t=!1){if(!t)return(K(e)?e.slice(0,-1):e)||"/";if(!K(e,!0))return e||"/";const[o,...n]=e.split("?");return(o.slice(0,-1)||"/")+(n.length?`?${n.join("?")}`:"")}function Ge(e="",t=!1){if(!t)return e.endsWith("/")?e:e+"/";if(K(e,!0))return e||"/";const[o,...n]=e.split("?");return o+"/"+(n.length?`?${n.join("?")}`:"")}const Me=typeof window!="undefined";function pe(e,t){typeof console!="undefined"&&(console.warn("[vue-i18n-routing] "+e),t&&console.warn(t.stack))}function Le(e){e=e||[];const t=[];for(const o of e)x(o)?t.push({code:o}):t.push(o);return t}function N(e){return e!=null&&"global"in e&&"mode"in e}function F(e){return e!=null&&!("__composer"in e)&&d.isRef(e.locale)}function O(e){return e!=null&&"__composer"in e}function H(e){return e!=null&&!("__composer"in e)&&!d.isRef(e.locale)}function y(e){return e!=null&&("__VUE_I18N_BRIDGE__"in e||"_sync"in e)}function Re(e){return N(e)?F(e.global)?e.global:e.global.__composer:O(e)?e.__composer:e}function X(e){const t=N(e)?e.global:e;return F(t)?d.isVue2&&y(e)?e.locale:t.locale.value:(H(t)||O(t)||y(t),t.locale)}function ke(e){const t=N(e)?e.global:e;return F(t)?d.isVue2&&y(e)?e.locales:t.locales.value:(H(t)||O(t)||y(t),t.locales)}function ge(e,t){const o=N(e)?e.global:e;if(F(o))d.isVue2&&y(e)?e.locale=t:o.locale.value=t;else if(H(o)||O(o)||y(o))o.locale=t;else throw new Error("TODO:")}function ze(e,t,o){return e.replace(/\/+$/,"")+(t?"/":"")||(o?"":"/")}function he(e){return p.isVueRouter4,d.isRef(e)?e.value:e}function _e(e){return x(e)?e:Ve(e)?e.toString():"(null)"}function me(e,t,{defaultLocale:o,strategy:n,routesNameSeparator:a,defaultLocaleRouteNameSuffix:l}){let s=_e(e)+(n==="no_prefix"?"":a+t);return t===o&&n==="prefix_and_default"&&(s+=a+l),s}function Ee(e,t){return we(e)?e(t):e}function He(e,t){const o=[];for(const[n,a]of t.entries()){const l=e.find(s=>s.iso.toLowerCase()===a.toLowerCase());if(l){o.push({code:l.code,score:1-n/t.length});break}}for(const[n,a]of t.entries()){const l=a.split("-")[0].toLowerCase(),s=e.find(r=>r.iso.split("-")[0].toLowerCase()===l);if(s){o.push({code:s.code,score:.999-n/t.length});break}}return o}const Xe=He;function qe(e,t){return e.score===t.score?t.code.length-e.code.length:t.score-e.score}const We=qe;function Qe(e,t,{matcher:o=Xe,comparer:n=We}={}){const a=[];for(const s of e){const{code:r}=s,c=s.iso||r;a.push({code:r,iso:c})}const l=o(a,t);return l.length>1&&l.sort(n),l.length?l[0].code:""}function A(e){return function(){return Reflect.apply(e,{getRouteBaseName:this.getRouteBaseName,localePath:this.localePath,localeRoute:this.localeRoute,localeLocation:this.localeLocation,resolveRoute:this.resolveRoute,switchLocalePath:this.switchLocalePath,localeHead:this.localeHead,i18n:this.$i18n,route:this.$route,router:this.$router},arguments)}}function Se(e,{locales:t=[],localeCodes:o=[],baseUrl:n=ne,hooks:a={}}={}){const l=d.effectScope(),s=e.install;return e.install=(r,...c)=>{Reflect.apply(s,e,[r,...c]);const u=Re(e);l.run(()=>Ye(u,{locales:t,localeCodes:o,baseUrl:n,hooks:a})),O(e.global)&&Ke(e.global,a.onExtendVueI18n);const f=r,i=e.mode==="composition"?d.isVue3?f.config.globalProperties.$i18n:e:d.isVue2?e:null;if(i&&Je(i,u,a.onExtendExportedGlobal),(Ze(c[0])?c[0]:{inject:!0}).inject&&r.mixin({methods:{resolveRoute:A(w),localePath:A(W),localeRoute:A(Q),localeLocation:A(ae),switchLocalePath:A(D),getRouteBaseName:A(C),localeHead:A(se)}}),f.unmount){const h=f.unmount;f.unmount=()=>{l.stop(),h()}}},l}function Ye(e,t){const{locales:o,localeCodes:n,baseUrl:a}=t,l=d.ref(o),s=d.ref(n);e.locales=d.computed(()=>l.value),e.localeCodes=d.computed(()=>s.value),e.__baseUrl=Ee(a,{}),t.hooks&&t.hooks.onExtendComposer&&t.hooks.onExtendComposer(e)}function Je(e,t,o){const n=[{locales:{get(){return t.locales.value}},localeCodes:{get(){return t.localeCodes.value}},__baseUrl:{get(){return t.__baseUrl}}}];o&&n.push(o(t));for(const a of n)for(const[l,s]of Object.entries(a))Object.defineProperty(e,l,s)}function Ke(e,t){const o=Re(e),n=[{locales:{get(){return o.locales.value}},localeCodes:{get(){return o.localeCodes.value}},__baseUrl:{get(){return o.__baseUrl}}}];t&&n.push(t(o));for(const a of n)for(const[l,s]of Object.entries(a))Object.defineProperty(e,l,s)}function Ze(e){return le(e)&&"inject"in e&&$e(e.inject)}function ve(e,{defaultLocale:t=j,strategy:o=G,trailingSlash:n=M,routesNameSeparator:a=k,defaultLocaleRouteNameSuffix:l=z,includeUprefixedFallback:s=!1,optionsResolver:r=void 0,locales:c=[]}={}){if(o==="no_prefix")return e;const u=c.map(i=>x(i)?i:i.code);function f(i,m,h=!1,E=!1){if(i.redirect&&(!i.component||!i.file))return[i];let R=null;if(r!=null&&(R=r(i,m),R==null))return[i];const g={locales:u,paths:{}};if(R!=null&&B(g,R),B(g,{locales:m}),g.locales.length>0&&R&&R.locales!=null&&R.locales.length>0){const _=[];for(const L of g.locales)R.locales.includes(L)&&_.push(L);g.locales=_}return g.locales.reduce((_,L)=>{const{name:P}=i;let{path:S}=i;const v=T({},i);P&&(v.name=`${P}${a}${L}`),i.children&&(v.children=i.children.reduce((I,J)=>[...I,...f(J,[L],!0,E)],[])),g.paths&&g.paths[L]&&(S=g.paths[L]);const b=L===t;if(b&&o==="prefix_and_default")if(h)h&&E&&P&&(v.name+=`${a}${l}`);else{const I=V(T({},v),{path:S});if(P&&(I.name=`${v.name}${a}${l}`),i.children){I.children=[];for(const J of i.children)I.children=I.children.concat(f(J,[L],!0,!0))}_.push(I)}const re=h&&!S.startsWith("/"),ce=!re&&!(b&&o==="prefix_except_default");return ce&&(S=`/${L}${S}`),S&&(S=ze(S,n,re)),ce&&b&&o==="prefix"&&s&&_.push(T({},i)),v.path=S,_.push(v),_},[])}return e.reduce((i,m)=>[...i,...f(m,u||[])],[])}const Z=Ne("vue-i18n-routing-gor");function Ae(e,t){e[Z]?pe("already registered global options"):e[Z]=t}function Ie(e){var t;return(t=e[Z])!=null?t:{}}function et(e,t={}){const{version:o,defaultLocale:n,locales:a,strategy:l,trailingSlash:s,routesNameSeparator:r,defaultLocaleRouteNameSuffix:c,defaultDirection:u,baseUrl:f,routes:i,routeOptionsResolver:m}=ot(t),h=Le(a),E=h.map(L=>L.code),R=xe(E,r,c);Se(e,{locales:h,baseUrl:f,localeCodes:E});const g=ve(i,{locales:a,defaultLocale:n,strategy:l,trailingSlash:s,routesNameSeparator:r,defaultLocaleRouteNameSuffix:c,optionsResolver:m});t.routes=g;const _=tt(t,o);return Ae(_,{defaultLocale:n,localeCodes:E,strategy:l,trailingSlash:s,routesNameSeparator:r,defaultLocaleRouteNameSuffix:c,defaultDirection:u}),_.beforeEach((L,P,S)=>{const v=X(e),b=R(L)||v||n||"";v!==b&&ge(e,b),S()}),_}function tt(e,t){if(d.isVue3&&t===4)return p.createRouter(e);if(d.isVue2&&t===3)return new De.default(e);throw new Error("TODO:")}function Te(e){return new RegExp(`^/(${e.join("|")})(?:/|$)`,"i")}function xe(e,t,o){const n=`(${e.join("|")})`,a=`(?:${t}${o})?`,l=new RegExp(`${t}${n}${a}$`,"i"),s=Te(e);return c=>{if(le(c)){if(c.name){const f=(x(c.name)?c.name:c.name.toString()).match(l);if(f&&f.length>1)return f[1]}else if(c.path){const u=c.path.match(s);if(u&&u.length>1)return u[1]}}else if(x(c)){const u=c.match(s);if(u&&u.length>1)return u[1]}return""}}function ot(e){var t,o,n,a,l,s,r,c,u,f;return e.version=(t=e.version)!=null?t:4,e.defaultLocale=(o=e.defaultLocale)!=null?o:j,e.strategy=(n=e.strategy)!=null?n:G,e.trailingSlash=(a=e.trailingSlash)!=null?a:M,e.routesNameSeparator=(l=e.routesNameSeparator)!=null?l:k,e.defaultLocaleRouteNameSuffix=(s=e.defaultLocaleRouteNameSuffix)!=null?s:z,e.locales=(r=e.locales)!=null?r:[],e.defaultDirection=(c=e.defaultDirection)!=null?c:oe,e.baseUrl=(u=e.baseUrl)!=null?u:ne,e.routes=(f=e.routes)!=null?f:[],e}function q(e,t,{defaultLocale:o=j,defaultDirection:n=oe,defaultLocaleRouteNameSuffix:a=z,routesNameSeparator:l=k,strategy:s=G,trailingSlash:r=M,localeCodes:c=[]}={}){const u=Ie(e);return{defaultLocale:t.defaultLocale||u.defaultLocale||o,defaultDirection:t.defaultDirection||u.defaultDirection||n,defaultLocaleRouteNameSuffix:t.defaultLocaleRouteNameSuffix||u.defaultLocaleRouteNameSuffix||a,routesNameSeparator:t.routesNameSeparator||u.routesNameSeparator||l,strategy:t.strategy||u.strategy||s,trailingSlash:t.trailingSlash||u.trailingSlash||r,localeCodes:t.localeCodes||u.localeCodes||c}}const nt=new Set(["prefix_and_default","prefix_except_default"]);function C(e){const t=this.router,{routesNameSeparator:o}=q(t,this),n=e!=null?d.isRef(e)?d.unref(e):e:this.route;return n.name?_e(n.name).split(o)[0]:void 0}function W(e,t){const o=w.call(this,e,t);return o==null?"":d.isVue3?o.redirectedFrom||o.fullPath:o.route.redirectedFrom||o.route.fullPath}function Q(e,t){const o=w.call(this,e,t);return o==null?void 0:d.isVue3?o:o.route}function ae(e,t){const o=w.call(this,e,t);return o==null?void 0:d.isVue3?o:o.location}function w(e,t){const o=this.router,n=this.i18n,a=t||X(n),{routesNameSeparator:l,defaultLocale:s,defaultLocaleRouteNameSuffix:r,strategy:c,trailingSlash:u}=q(o,this);let f=e;x(e)&&(f[0]==="/"?f={path:e}:f={name:e});let i=B({},f);if(i.path&&!i.name){const h=o.resolve(i),E=d.isVue3?h:h.route,R=C.call(this,E);x(R)?i={name:me(R,a,{defaultLocale:s,strategy:c,routesNameSeparator:l,defaultLocaleRouteNameSuffix:r}),params:E.params,query:E.query,hash:E.hash}:(!(a===s&&nt.has(c))&&c!=="no_prefix"&&(i.path=`/${a}${i.path}`),i.path=u?Ge(i.path,!0):je(i.path,!0))}else{i.name=me(i.name,a,{defaultLocale:s,strategy:c,routesNameSeparator:l,defaultLocaleRouteNameSuffix:r});const{params:h}=i;h&&h["0"]===void 0&&h.pathMatch&&(h["0"]=h.pathMatch)}const m=o.resolve(i);return(d.isVue3?m.name:m.route.name)?m:o.resolve(e)}function D(e){const t=this.route,o=C.call(this,t);if(!o)return"";const c=!d.isVue3&&d.isRef(t)?t.value:t,{params:n}=c,a=de(c,["params"]),l={},s=B({},a,{name:o,params:V(T(T({},n),l),{0:n.pathMatch})});return W.call(this,s,e)}function se({addDirAttribute:e=!1,addSeoAttributes:t=!1}={}){const o=this.router,n=this.i18n,{defaultDirection:a}=q(o,this),l={htmlAttrs:{},link:[],meta:[]};if(n.locales==null||n.__baseUrl==null)return l;const s=X(n),r=ke(n),c=Le(r).find(i=>i.code===s)||{code:s},u=c.iso,f=c.dir||a;return e&&(l.htmlAttrs.dir=f),t&&s&&n.locales&&(u&&(l.htmlAttrs.lang=u),lt.call(this,r,n.__baseUrl,l.link),at.call(this,n.__baseUrl,l.link,t),st(c,u,l.meta),rt(r,u,l.meta)),l}function lt(e,t,o){const n=this.router,{defaultLocale:a,strategy:l}=q(n,this);if(l===te.NO_PREFIX)return;const s=new Map;for(const r of e){const c=r.iso;if(!c){pe("Locale ISO code is required to generate alternate link");continue}const[u,f]=c.split("-");u&&f&&(r.isCatchallLocale||!s.has(u))&&s.set(u,r),s.set(c,r)}for(const[r,c]of s.entries()){const u=D.call(this,c.code);u&&o.push({hid:`i18n-alt-${r}`,rel:"alternate",href:ee(u,t),hreflang:r})}if(a){const r=D.call(this,a);r&&o.push({hid:"i18n-xd",rel:"alternate",href:ee(r,t),hreflang:"x-default"})}}function at(e,t,o){const n=this.route,a=Q.call(this,V(T({},n),{name:C.call(this,n)}));if(a){let l=ee(a.path,e);const s=le(o)&&o.canonicalQueries||[];if(s.length){const r=a.query,c=new URLSearchParams;for(const f of s)if(f in r){const i=r[f];Fe(i)?i.forEach(m=>c.append(f,m||"")):c.append(f,i||"")}const u=c.toString();u&&(l=`${l}?${u}`)}t.push({hid:"i18n-can",rel:"canonical",href:l})}}function st(e,t,o){!(e&&t)||o.push({hid:"i18n-og",property:"og:locale",content:ye(t)})}function rt(e,t,o){const n=e.filter(a=>{const l=a.iso;return l&&l!==t});if(n.length){const a=n.map(l=>({hid:`i18n-og-alt-${l.iso}`,property:"og:locale:alternate",content:ye(l.iso)}));o.push(...a)}}function ye(e){return(e||"").replace(/-/g,"_")}function ee(e,t){return e.match(/^https?:\/\//)?e:t+e}function Y(e,t){const{router:o,route:n,i18n:a,defaultLocale:l,strategy:s,defaultLocaleRouteNameSuffix:r,trailingSlash:c,routesNameSeparator:u}=e;return function(...f){return Reflect.apply(t,{router:o,route:n,i18n:a,defaultLocale:l,strategy:s,defaultLocaleRouteNameSuffix:r,trailingSlash:c,routesNameSeparator:u},f)}}function ct(e=p.useRoute(),{router:t=p.useRouter(),routesNameSeparator:o=void 0}={}){const n={router:t,route:e,routesNameSeparator:o};return C.call(n,e)}function it({router:e=p.useRouter(),route:t=p.useRoute(),i18n:o=U.useI18n(),defaultLocale:n=void 0,defaultLocaleRouteNameSuffix:a=void 0,routesNameSeparator:l=void 0,strategy:s=void 0,trailingSlash:r=void 0}={}){return Y({router:e,route:t,i18n:o,defaultLocale:n,defaultLocaleRouteNameSuffix:a,routesNameSeparator:l,strategy:s,trailingSlash:r},W)}function ut({router:e=p.useRouter(),route:t=p.useRoute(),i18n:o=U.useI18n(),defaultLocale:n=void 0,defaultLocaleRouteNameSuffix:a=void 0,routesNameSeparator:l=void 0,strategy:s=void 0,trailingSlash:r=void 0}={}){return Y({router:e,route:t,i18n:o,defaultLocale:n,defaultLocaleRouteNameSuffix:a,routesNameSeparator:l,strategy:s,trailingSlash:r},Q)}function ft({router:e=p.useRouter(),route:t=p.useRoute(),i18n:o=U.useI18n(),defaultLocale:n=void 0,defaultLocaleRouteNameSuffix:a=void 0,routesNameSeparator:l=void 0,strategy:s=void 0,trailingSlash:r=void 0}={}){return Y({router:e,route:t,i18n:o,defaultLocale:n,defaultLocaleRouteNameSuffix:a,routesNameSeparator:l,strategy:s,trailingSlash:r},ae)}function dt({router:e=p.useRouter(),route:t=p.useRoute(),i18n:o=U.useI18n(),defaultLocale:n=void 0,defaultLocaleRouteNameSuffix:a=void 0,routesNameSeparator:l=void 0,strategy:s=void 0,trailingSlash:r=void 0}={}){return Y({router:e,route:t,i18n:o,defaultLocale:n,defaultLocaleRouteNameSuffix:a,routesNameSeparator:l,strategy:s,trailingSlash:r},D)}function ht({addDirAttribute:e=!1,addSeoAttributes:t=!1,strategy:o=void 0,defaultLocale:n=void 0,route:a=p.useRoute(),router:l=p.useRouter(),i18n:s=U.useI18n()}={}){const r=l,c=d.ref({htmlAttrs:{},link:[],meta:[]});function u(){c.value={htmlAttrs:{},link:[],meta:[]}}function f(i){c.value=Reflect.apply(se,{router:l,route:i,i18n:s,defaultLocale:n,strategy:o},[{addDirAttribute:e,addSeoAttributes:t}])}if(Me)if(d.isVue3){const i=d.watchEffect(()=>{u(),f(he(r.currentRoute))});d.onUnmounted(()=>i())}else{const i=r.afterEach((m,h)=>{u(),f(m)});d.onUnmounted(()=>i()),f(a)}else f(he(r.currentRoute));return c}const mt="0.0.0";exports.DEFAULT_BASE_URL=ne;exports.DEFAULT_DETECTION_DIRECTION=oe;exports.DEFAULT_LOCALE=j;exports.DEFAULT_LOCALE_ROUTE_NAME_SUFFIX=z;exports.DEFAULT_ROUTES_NAME_SEPARATOR=k;exports.DEFAULT_STRATEGY=G;exports.DEFAULT_TRAILING_SLASH=M;exports.STRATEGIES=te;exports.VERSION=mt;exports.createLocaleFromRouteGetter=xe;exports.createRouter=et;exports.extendI18n=Se;exports.findBrowserLocale=Qe;exports.getGlobalOptions=Ie;exports.getLocale=X;exports.getLocalesRegex=Te;exports.getRouteBaseName=C;exports.isComposer=F;exports.isExportedGlobalComposer=H;exports.isI18nInstance=N;exports.isLegacyVueI18n=y;exports.isVueI18n=O;exports.localeHead=se;exports.localeLocation=ae;exports.localePath=W;exports.localeRoute=Q;exports.localizeRoutes=ve;exports.proxyVueInstance=A;exports.registerGlobalOptions=Ae;exports.resolveBaseUrl=Ee;exports.resolveRoute=w;exports.setLocale=ge;exports.switchLocalePath=D;exports.useLocaleHead=ht;exports.useLocaleLocation=ft;exports.useLocalePath=it;exports.useLocaleRoute=ut;exports.useRouteBaseName=ct;exports.useSwitchLocalePath=dt;
